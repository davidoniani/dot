#!/usr/bin/env sh

# Open the selected file in the default editor
# by David Oniani <onianidavid@gmail.com>
# MIT License

cmd="bat --color=always --theme=1337 {}"

[ -z "$1" ] && fzf --preview "$cmd" --prompt "File: " | xargs -r "$EDITOR" && exit 0

fd . --hidden --type f "$1" | fzf --preview "$cmd" --prompt "File: " | xargs -r "$EDITOR" && exit 0
