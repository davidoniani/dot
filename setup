#!/usr/bin/env sh

# UNIX-based meta distribution setup wizard
# by David Oniani <onianidavid@gmail.com>
# License: GNU GPLv3


brew_install() {
  brew update
  brew upgrade
  brew doctor
  brew cleanup

  # Core utilities
  brew install coreutils dash fd findutils fzf htop neofetch rg tree trash-cli

  # Language support
  brew install ccls ghc lua node perl python r ruby rustup && rustup-init

  # Linting
  brew install hlint shellcheck

  # Formatting
  brew install prettier

  # File format handlers
  brew install ffmpeg imagemagick p7zip pandoc

  # Essentials
  brew install mpc mpd mpv ncmpcpp neovim newsboat nnn

  # Mail
  brew install abook gpg isync msmtp neomutt notmuch pass

  # Fancy
  brew install bat cmatrix figlet

  # Wallpaper support
  brew install pidof wallpaper

  # Web
  brew install curl git youtube-dl

  # Cask
  brew cask install amethyst firefox kitty mactex-no-gui rstudio signal

  # Install Zathura document viewer (currently, not in use)
  # brew cask install xquartz
  # brew tap zegervdv/zathura
  # brew install zathura
  # brew install zathura-pdf-poppler
  # mkdir -p $(brew --prefix zathura)/lib/zathura
  # ln -s $(brew --prefix zathura-pdf-poppler)/libpdf-poppler.dylib \
  #   $(brew --prefix zathura)/lib/zathura/libpdf-poppler.dylib
  # brew untap zegervdv/zathura

  # Key bindings
  brew install koekeishiya/formulae/skhd
  brew services start skhd

  brew update
  brew upgrade
  brew doctor
  brew cleanup
}
